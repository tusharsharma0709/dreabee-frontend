{"ast":null,"code":"var _createForOfIteratorHelper = require(\"C:/Users/pc/Downloads/Telegram Desktop/DreaBee/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n// Algorithm due to Jonathan Feinberg, https://s3.amazonaws.com/static.mrfeinberg.com/bv_ch03.pdf\n\nvar dispatch = require(\"d3-dispatch\").dispatch;\nvar RADIANS = Math.PI / 180;\nvar SPIRALS = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral\n};\nvar cw = 1 << 11 >> 5;\nvar ch = 1 << 11;\nmodule.exports = function () {\n  var size = [256, 256],\n    text = cloudText,\n    font = cloudFont,\n    fontSize = cloudFontSize,\n    fontStyle = cloudFontNormal,\n    fontWeight = cloudFontNormal,\n    rotate = cloudRotate,\n    padding = cloudPadding,\n    spiral = archimedeanSpiral,\n    words = [],\n    timeInterval = Infinity,\n    event = dispatch(\"word\", \"end\"),\n    timer = null,\n    random = Math.random,\n    cloud = {},\n    canvas = cloudCanvas;\n  cloud.canvas = function (_) {\n    return arguments.length ? (canvas = functor(_), cloud) : canvas;\n  };\n  cloud.start = function () {\n    var contextAndRatio = getContext(canvas()),\n      board = zeroArray((size[0] >> 5) * size[1]),\n      bounds = null,\n      n = words.length,\n      i = -1,\n      tags = [],\n      data = words.map(function (d, i) {\n        d.text = text.call(this, d, i);\n        d.font = font.call(this, d, i);\n        d.style = fontStyle.call(this, d, i);\n        d.weight = fontWeight.call(this, d, i);\n        d.rotate = rotate.call(this, d, i);\n        d.size = ~~fontSize.call(this, d, i);\n        d.padding = padding.call(this, d, i);\n        return d;\n      }).sort(function (a, b) {\n        return b.size - a.size;\n      });\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n    return cloud;\n    function step() {\n      var start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n && timer) {\n        var d = data[i];\n        d.x = size[0] * (random() + .5) >> 1;\n        d.y = size[1] * (random() + .5) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          event.call(\"word\", cloud, d);\n          if (bounds) cloudBounds(bounds, d);else bounds = [{\n            x: d.x + d.x0,\n            y: d.y + d.y0\n          }, {\n            x: d.x + d.x1,\n            y: d.y + d.y1\n          }];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      if (i >= n) {\n        cloud.stop();\n        event.call(\"end\", cloud, tags, bounds);\n      }\n    }\n  };\n  cloud.stop = function () {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    var _iterator = _createForOfIteratorHelper(words),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var d = _step.value;\n        delete d.sprite;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return cloud;\n  };\n  function getContext(canvas) {\n    var context = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    canvas.width = canvas.height = 1;\n    var ratio = Math.sqrt(context.getImageData(0, 0, 1, 1).data.length >> 2);\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n    context.fillStyle = context.strokeStyle = \"red\";\n    return {\n      context: context,\n      ratio: ratio\n    };\n  }\n  function place(board, tag, bounds) {\n    var perimeter = [{\n        x: 0,\n        y: 0\n      }, {\n        x: size[0],\n        y: size[1]\n      }],\n      startX = tag.x,\n      startY = tag.y,\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n      s = spiral(size),\n      dt = random() < .5 ? 1 : -1,\n      t = -dt,\n      dxdy,\n      dx,\n      dy;\n    while (dxdy = s(t += dt)) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || collideRects(tag, bounds)) {\n        if (!cloudCollide(tag, board, size[0])) {\n          var sprite = tag.sprite,\n            w = tag.width >> 5,\n            sw = size[0] >> 5,\n            lx = tag.x - (w << 4),\n            sx = lx & 0x7f,\n            msx = 32 - sx,\n            h = tag.y1 - tag.y0,\n            x = (tag.y + tag.y0) * sw + (lx >> 5),\n            last;\n          for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n              board[x + i] |= last << msx | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  cloud.timeInterval = function (_) {\n    return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\n  };\n  cloud.words = function (_) {\n    return arguments.length ? (words = _, cloud) : words;\n  };\n  cloud.size = function (_) {\n    return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\n  };\n  cloud.font = function (_) {\n    return arguments.length ? (font = functor(_), cloud) : font;\n  };\n  cloud.fontStyle = function (_) {\n    return arguments.length ? (fontStyle = functor(_), cloud) : fontStyle;\n  };\n  cloud.fontWeight = function (_) {\n    return arguments.length ? (fontWeight = functor(_), cloud) : fontWeight;\n  };\n  cloud.rotate = function (_) {\n    return arguments.length ? (rotate = functor(_), cloud) : rotate;\n  };\n  cloud.text = function (_) {\n    return arguments.length ? (text = functor(_), cloud) : text;\n  };\n  cloud.spiral = function (_) {\n    return arguments.length ? (spiral = SPIRALS[_] || _, cloud) : spiral;\n  };\n  cloud.fontSize = function (_) {\n    return arguments.length ? (fontSize = functor(_), cloud) : fontSize;\n  };\n  cloud.padding = function (_) {\n    return arguments.length ? (padding = functor(_), cloud) : padding;\n  };\n  cloud.random = function (_) {\n    return arguments.length ? (random = _, cloud) : random;\n  };\n  cloud.on = function () {\n    var value = event.on.apply(event, arguments);\n    return value === event ? cloud : value;\n  };\n  return cloud;\n};\nfunction cloudText(d) {\n  return d.text;\n}\nfunction cloudFont() {\n  return \"serif\";\n}\nfunction cloudFontNormal() {\n  return \"normal\";\n}\nfunction cloudFontSize(d) {\n  return Math.sqrt(d.value);\n}\nfunction cloudRotate() {\n  return (~~(random() * 6) - 3) * 30;\n}\nfunction cloudPadding() {\n  return 1;\n}\n\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  var c = contextAndRatio.context,\n    ratio = contextAndRatio.ratio;\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  var x = 0,\n    y = 0,\n    maxh = 0,\n    n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n    var metrics = c.measureText(d.text);\n    var anchor = -Math.floor(metrics.width / 2);\n    var _w = (metrics.width + 1) * ratio;\n    var _h = d.size << 1;\n    if (d.rotate) {\n      var sr = Math.sin(d.rotate * RADIANS),\n        cr = Math.cos(d.rotate * RADIANS),\n        wcr = _w * cr,\n        wsr = _w * sr,\n        hcr = _h * cr,\n        hsr = _h * sr;\n      _w = Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f >> 5 << 5;\n      _h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      _w = _w + 0x1f >> 5 << 5;\n    }\n    if (_h > maxh) maxh = _h;\n    if (x + _w >= cw << 5) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + _h >= ch) break;\n    c.translate((x + (_w >> 1)) / ratio, (y + (_h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * RADIANS);\n    c.fillText(d.text, anchor, 0);\n    if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, anchor, 0);\n    c.restore();\n    d.width = _w;\n    d.height = _h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = _w >> 1;\n    d.y1 = _h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += _w;\n  }\n  var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n    sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    var w = d.width,\n      w32 = w >> 5,\n      h = d.y1 - d.y0;\n    // Zero the buffer\n    for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    var seen = 0,\n      seenRow = -1;\n    for (var j = 0; j < h; j++) {\n      for (var i = 0; i < w; i++) {\n        var k = w32 * j + (i >> 5),\n          m = pixels[(y + j) * (cw << 5) + (x + i) << 2] ? 1 << 31 - i % 32 : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  var sprite = tag.sprite,\n    w = tag.width >> 5,\n    lx = tag.x - (w << 4),\n    sx = lx & 0x7f,\n    msx = 32 - sx,\n    h = tag.y1 - tag.y0,\n    x = (tag.y + tag.y0) * sw + (lx >> 5),\n    last;\n  for (var j = 0; j < h; j++) {\n    last = 0;\n    for (var i = 0; i <= w; i++) {\n      if ((last << msx | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\n    }\n    x += sw;\n  }\n  return false;\n}\nfunction cloudBounds(bounds, d) {\n  var b0 = bounds[0],\n    b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\nfunction collideRects(a, b) {\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\nfunction archimedeanSpiral(size) {\n  var e = size[0] / size[1];\n  return function (t) {\n    return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\nfunction rectangularSpiral(size) {\n  var dy = 4,\n    dx = dy * size[0] / size[1],\n    x = 0,\n    y = 0;\n  return function (t) {\n    var sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch (Math.sqrt(1 + 4 * sign * t) - sign & 3) {\n      case 0:\n        x += dx;\n        break;\n      case 1:\n        y += dy;\n        break;\n      case 2:\n        x -= dx;\n        break;\n      default:\n        y -= dy;\n        break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  var a = [],\n    i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\nfunction cloudCanvas() {\n  return document.createElement(\"canvas\");\n}\nfunction functor(d) {\n  return typeof d === \"function\" ? d : function () {\n    return d;\n  };\n}","map":{"version":3,"names":["dispatch","require","RADIANS","Math","PI","SPIRALS","archimedean","archimedeanSpiral","rectangular","rectangularSpiral","cw","ch","module","exports","size","text","cloudText","font","cloudFont","fontSize","cloudFontSize","fontStyle","cloudFontNormal","fontWeight","rotate","cloudRotate","padding","cloudPadding","spiral","words","timeInterval","Infinity","event","timer","random","cloud","canvas","cloudCanvas","_","arguments","length","functor","start","contextAndRatio","getContext","board","zeroArray","bounds","n","i","tags","data","map","d","call","style","weight","sort","a","b","clearInterval","setInterval","step","Date","now","x","y","cloudSprite","hasText","place","push","cloudBounds","x0","y0","x1","y1","stop","_iterator","_createForOfIteratorHelper","_step","s","done","value","sprite","err","e","f","context","willReadFrequently","width","height","ratio","sqrt","getImageData","fillStyle","strokeStyle","tag","perimeter","startX","startY","maxDelta","dt","t","dxdy","dx","dy","min","abs","collideRects","cloudCollide","w","sw","lx","sx","msx","h","last","j","on","apply","di","c","clearRect","maxh","save","metrics","measureText","anchor","floor","sr","sin","cr","cos","wcr","wsr","hcr","hsr","max","translate","fillText","lineWidth","strokeText","restore","xoff","yoff","pixels","w32","seen","seenRow","k","m","slice","b0","b1","sign","document","createElement"],"sources":["C:/Users/pc/Downloads/Telegram Desktop/DreaBee/node_modules/d3-cloud/index.js"],"sourcesContent":["// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n// Algorithm due to Jonathan Feinberg, https://s3.amazonaws.com/static.mrfeinberg.com/bv_ch03.pdf\n\nconst dispatch = require(\"d3-dispatch\").dispatch;\n\nconst RADIANS = Math.PI / 180;\n\nconst SPIRALS = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral\n};\n\nconst cw = 1 << 11 >> 5;\nconst ch = 1 << 11;\n\nmodule.exports = function() {\n  var size = [256, 256],\n      text = cloudText,\n      font = cloudFont,\n      fontSize = cloudFontSize,\n      fontStyle = cloudFontNormal,\n      fontWeight = cloudFontNormal,\n      rotate = cloudRotate,\n      padding = cloudPadding,\n      spiral = archimedeanSpiral,\n      words = [],\n      timeInterval = Infinity,\n      event = dispatch(\"word\", \"end\"),\n      timer = null,\n      random = Math.random,\n      cloud = {},\n      canvas = cloudCanvas;\n\n  cloud.canvas = function(_) {\n    return arguments.length ? (canvas = functor(_), cloud) : canvas;\n  };\n\n  cloud.start = function() {\n    var contextAndRatio = getContext(canvas()),\n        board = zeroArray((size[0] >> 5) * size[1]),\n        bounds = null,\n        n = words.length,\n        i = -1,\n        tags = [],\n        data = words.map(function(d, i) {\n          d.text = text.call(this, d, i);\n          d.font = font.call(this, d, i);\n          d.style = fontStyle.call(this, d, i);\n          d.weight = fontWeight.call(this, d, i);\n          d.rotate = rotate.call(this, d, i);\n          d.size = ~~fontSize.call(this, d, i);\n          d.padding = padding.call(this, d, i);\n          return d;\n        }).sort(function(a, b) { return b.size - a.size; });\n\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n\n    return cloud;\n\n    function step() {\n      var start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n && timer) {\n        var d = data[i];\n        d.x = (size[0] * (random() + .5)) >> 1;\n        d.y = (size[1] * (random() + .5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          event.call(\"word\", cloud, d);\n          if (bounds) cloudBounds(bounds, d);\n          else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      if (i >= n) {\n        cloud.stop();\n        event.call(\"end\", cloud, tags, bounds);\n      }\n    }\n  }\n\n  cloud.stop = function() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    for (const d of words) {\n      delete d.sprite;\n    }\n    return cloud;\n  };\n\n  function getContext(canvas) {\n    const context = canvas.getContext(\"2d\", {willReadFrequently: true});\n\n    canvas.width = canvas.height = 1;\n    const ratio = Math.sqrt(context.getImageData(0, 0, 1, 1).data.length >> 2);\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n\n    context.fillStyle = context.strokeStyle = \"red\";\n\n    return {context, ratio};\n  }\n\n  function place(board, tag, bounds) {\n    var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\n        startX = tag.x,\n        startY = tag.y,\n        maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n        s = spiral(size),\n        dt = random() < .5 ? 1 : -1,\n        t = -dt,\n        dxdy,\n        dx,\n        dy;\n\n    while (dxdy = s(t += dt)) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n          tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || collideRects(tag, bounds)) {\n        if (!cloudCollide(tag, board, size[0])) {\n          var sprite = tag.sprite,\n              w = tag.width >> 5,\n              sw = size[0] >> 5,\n              lx = tag.x - (w << 4),\n              sx = lx & 0x7f,\n              msx = 32 - sx,\n              h = tag.y1 - tag.y0,\n              x = (tag.y + tag.y0) * sw + (lx >> 5),\n              last;\n          for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  cloud.timeInterval = function(_) {\n    return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\n  };\n\n  cloud.words = function(_) {\n    return arguments.length ? (words = _, cloud) : words;\n  };\n\n  cloud.size = function(_) {\n    return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\n  };\n\n  cloud.font = function(_) {\n    return arguments.length ? (font = functor(_), cloud) : font;\n  };\n\n  cloud.fontStyle = function(_) {\n    return arguments.length ? (fontStyle = functor(_), cloud) : fontStyle;\n  };\n\n  cloud.fontWeight = function(_) {\n    return arguments.length ? (fontWeight = functor(_), cloud) : fontWeight;\n  };\n\n  cloud.rotate = function(_) {\n    return arguments.length ? (rotate = functor(_), cloud) : rotate;\n  };\n\n  cloud.text = function(_) {\n    return arguments.length ? (text = functor(_), cloud) : text;\n  };\n\n  cloud.spiral = function(_) {\n    return arguments.length ? (spiral = SPIRALS[_] || _, cloud) : spiral;\n  };\n\n  cloud.fontSize = function(_) {\n    return arguments.length ? (fontSize = functor(_), cloud) : fontSize;\n  };\n\n  cloud.padding = function(_) {\n    return arguments.length ? (padding = functor(_), cloud) : padding;\n  };\n\n  cloud.random = function(_) {\n    return arguments.length ? (random = _, cloud) : random;\n  };\n\n  cloud.on = function() {\n    var value = event.on.apply(event, arguments);\n    return value === event ? cloud : value;\n  };\n\n  return cloud;\n};\n\nfunction cloudText(d) {\n  return d.text;\n}\n\nfunction cloudFont() {\n  return \"serif\";\n}\n\nfunction cloudFontNormal() {\n  return \"normal\";\n}\n\nfunction cloudFontSize(d) {\n  return Math.sqrt(d.value);\n}\n\nfunction cloudRotate() {\n  return (~~(random() * 6) - 3) * 30;\n}\n\nfunction cloudPadding() {\n  return 1;\n}\n\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  var c = contextAndRatio.context,\n      ratio = contextAndRatio.ratio;\n\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  var x = 0,\n      y = 0,\n      maxh = 0,\n      n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n    const metrics = c.measureText(d.text);\n    const anchor = -Math.floor(metrics.width / 2);\n    let w = (metrics.width + 1) * ratio;\n    let h = d.size << 1;\n    if (d.rotate) {\n      var sr = Math.sin(d.rotate * RADIANS),\n          cr = Math.cos(d.rotate * RADIANS),\n          wcr = w * cr,\n          wsr = w * sr,\n          hcr = h * cr,\n          hsr = h * sr;\n      w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      w = (w + 0x1f) >> 5 << 5;\n    }\n    if (h > maxh) maxh = h;\n    if (x + w >= (cw << 5)) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + h >= ch) break;\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * RADIANS);\n    c.fillText(d.text, anchor, 0);\n    if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, anchor, 0);\n    c.restore();\n    d.width = w;\n    d.height = h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = w >> 1;\n    d.y1 = h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += w;\n  }\n  var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n      sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    var w = d.width,\n        w32 = w >> 5,\n        h = d.y1 - d.y0;\n    // Zero the buffer\n    for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    var seen = 0,\n        seenRow = -1;\n    for (var j = 0; j < h; j++) {\n      for (var i = 0; i < w; i++) {\n        var k = w32 * j + (i >> 5),\n            m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;\n      else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  var sprite = tag.sprite,\n      w = tag.width >> 5,\n      lx = tag.x - (w << 4),\n      sx = lx & 0x7f,\n      msx = 32 - sx,\n      h = tag.y1 - tag.y0,\n      x = (tag.y + tag.y0) * sw + (lx >> 5),\n      last;\n  for (var j = 0; j < h; j++) {\n    last = 0;\n    for (var i = 0; i <= w; i++) {\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n          & board[x + i]) return true;\n    }\n    x += sw;\n  }\n  return false;\n}\n\nfunction cloudBounds(bounds, d) {\n  var b0 = bounds[0],\n      b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\n\nfunction collideRects(a, b) {\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\n\nfunction archimedeanSpiral(size) {\n  var e = size[0] / size[1];\n  return function(t) {\n    return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\n\nfunction rectangularSpiral(size) {\n  var dy = 4,\n      dx = dy * size[0] / size[1],\n      x = 0,\n      y = 0;\n  return function(t) {\n    var sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n      case 0:  x += dx; break;\n      case 1:  y += dy; break;\n      case 2:  x -= dx; break;\n      default: y -= dy; break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  var a = [],\n      i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\n\nfunction cloudCanvas() {\n  return document.createElement(\"canvas\");\n}\n\nfunction functor(d) {\n  return typeof d === \"function\" ? d : function() { return d; };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}